/* 
    Elode.js (Minimalist) - v0.9 (Release: 25-09-2022) 
    ~ An unique javascript module for creating element ~
    
    [Compressed 46% - By @jscompress.com] 
     - https://www.jscompress.com -

    [OpenSource Project - Under The MIT License] 
     - https://www.github.com/equneko/elode -
*/

(function(I,O){"use strict";function E(x,y){var q=x.trim(),b,e,xq,xk,xd,xa=[],i,o,ox,ve;q.includes("$")&&(q=q.split("$")),q.constructor==Array&&(b=q[0].trim(),q=x.replace(b,"").replace("$","").trim()),ve=I.createElement("div");var exrgx=/\((?:[^)(]+|\((?:[^)(]+|\([^)(]*\))*\))*\)/gim,xre=q.trim().match(exrgx),xtr,exkey,exval;try{null!=xre&&(xtr=xre[0].substr(1,xre[0].length-2),xtr=xtr.trim().split(":"),exkey=xtr[0].trim(),exval=xtr[1].trim(),q=q.replace(xre[0],""))}catch(err){O.Elode.DEBUG&&console.log("[ELODE_DEBUG] "+err)}var attrgx=/\[(?:[^\]\[]+|\[(?:[^\]\[]+|\([^\]\[]*\])*\])*\]/gim,attr=q.trim().match(attrgx),ox,xk;if(null!=attr){var vttr=attr[0].substr(1,attr[0].length-2),key,i,addAttr=function(e){key=e.split(" "),ve.setAttribute(key[0].trim(),e.split(" ").toString().replaceAll(","," ").replace(key[0],"").trim())};if(vttr.includes("|"))for(vttr=vttr.split("|"),i=0;i<vttr.length;i++)try{addAttr(vttr[i].trim()),q=q.replace(attr[0],"")}catch(err){O.Elode.DEBUG&&console.log("[ELODE_DEBUG] "+err)}else try{addAttr(vttr.trim()),q=q.replace(attr[0],"")}catch(err){O.Elode.DEBUG&&console.log("[ELODE_DEBUG] "+err)}}xq=q.split(" "),xk=xq[0].trim(),xd=q.replace(xk,"").trim(),xk.includes("#")&&(o=xk.split("#")[1],o.includes(".")&&(o=o.split(".")[0]),xk=xk.replace("#"+o,""),xa.push(["id",o]),o=null),xk.includes(".")&&(o=xk.split("."),ox=o.toString(),xk=o[0],o=ox.replace(o[0]+",","").replaceAll(","," "),xa.push(["class",o]),o=null,ox=null);try{e=I.createElement(xk)}catch(err){e=I.createElement("div"),O.Elode.DEBUG&&console.log("[ELODE_DEBUG] "+err)}if(e.innerHTML=xd,0<xa.length)for(i=0;i<xa.length;i++)e.setAttribute(xa[i][0],xa[i][1]);function attrAdapt(e,r){if(r.hasAttributes())for(var t,n=r.attributes,l=0;l<n.length;l++)t=n[l],e.setAttribute(t.name,t.value)}attrAdapt(e,ve),null!=y&&(e.db=y);try{if(xtr=xtr.toString().trim(),"!"==xtr[0]){if(e.hasAttributes())for(;0<e.attributes.length;)e.removeAttribute(e.attributes[0].name);for(e.innerHTML="",xtr=xtr.substr(1),xtr=xtr.split(","),i=0;i<xtr.length;i++)e.appendChild(E(xtr[i].trim()+" "+xd.replaceAll("!index",i),y)[0]);return[e,b]}}catch(err){O.Elode.DEBUG&&console.log("[ELODE_DEBUG] "+err)}if(null==exkey||null==exval)return[e,b];var bundle=I.createElement("div"),EXVAL;try{var el=e,EXVAL=eval(exval)}catch(err){EXVAL="",O.Elode.DEBUG&&console.log("[ELODE_DEBUG] "+err)}if(EXVAL.constructor==Array)for(i=0;i<EXVAL.length;i++){var xe=I.createElement(e.tagName),rgx=/\{(?:[^}{]+|\{(?:[^}{]+|\([^}{]*\})*\})*\}/gim,mrg,j,m,n,o;if(xe.innerHTML=e.innerHTML,attrAdapt(xe,e),mrg=xe.innerHTML.match(rgx),null!=mrg)for(j=0;j<mrg.length;j++)o=exval+"["+i+"]",m=xe.innerHTML,n=mrg[j].replaceAll(""+exkey,o).replaceAll("index",i),xe.innerHTML=m.replace(mrg[j],n);bundle.appendChild(xe),null!=y&&(bundle.db=y)}return[bundle,b]}function C(e,r){var t,n,l,i=/\<(?:[^><]+|\<(?:[^><]+|\([^><]*\>)*\>)*\>/gim,o=E(e,r),u=e.match(i);if(null==u)return x(o[0]),o;for(o[0].innerHTML="",t=0;t<u.length;t++)null!=(n=(n=u[t].trim()).substr(1,n.length-2)).match(i)&&(n=n.replace(n,C(n)[2])),l=E(n,r),o[0].appendChild(l[0]),e=e.replace(u[t].trim(),l[0].outerHTML);if(o[0].hasAttributes())for(;0<o[0].attributes.length;)o[0].removeAttribute(o[0].attributes[0].name);function x(e){e.base=e.innerHTML;var r,t=e.children;if(0<t.length)for(r=0;r<t.length;r++)t[r].base=t[r].innerHTML,x(t[r])}return x(o[0]),[o[0],o[1],e]}function R(e,r){if(""!=r&&null!=r)return e.constructor==Array?I.querySelector(r).appendChild(e[0]):I.querySelector(r).appendChild(e),[e,r];for(var t=I.body,n=t.children,l=n.length,i=n[o=0],o=0;o<l&&(i=n[o]).constructor!=HTMLScriptElement;o++);return e.constructor==Array?t.insertBefore(e[0],i):t.insertBefore(e,i),[e,r]}function V(x,y,z){var evl,el=P(y),vl;null!=el.parentElement&&null!=el.parentElement.base&&(el=el.parentElement);try{evl=eval(x.replaceAll("$","O."))}catch(err){O.Elode.DEBUG&&console.log("[ELODE_DEBUG] "+err)}return void 0===evl&&(evl=""),vl=y.base.replaceAll(x,evl),null!=z&&(vl=z.replaceAll(x,evl)),y.innerHTML=vl,vl}function Z(e){null!=e.parentElement&&null!=e.parentElement.base&&(e=e.parentElement);var r,t,n,l,i=/\{(?:[^}{]+|\{(?:[^}{]+|\([^}{]*\})*\})*\}/gim,o=e.base.match(i);if(null!=o)if(0<(n=e.children).length){for(r=0;r<n.length;r++)if(null!=(o=n[r].base.match(i)))if(l=null,1<o.length)for(t=0;t<o.length;t++)l=V(o[t],n[r],l);else for(t=0;t<o.length;t++)V(o[t],n[r])}else for(r=0;r<o.length;r++)l=V(o[r],e,l);return e}function P(x){var i,j,k;for(x._append=function(e){return x.appendChild(e),x},x._attr=function(e,r){return null==e&&null==r?x.attributes:null==r?x.getAttribute(e):(x.setAttribute(e,r),null!=x.parentElement?x.parentElement:x)},x._id=function(e){return x._attr("id",e)},x._class=function(e){return x._attr("class",e)},x._css=function(e){return null==e?x.style:x._attr("style",e)},x._on=function(e,r){return x.addEventListener(e,function(e){null!=x.parentElement&&null!=x.parentElement.base?r(e,x.parentElement,x):r(e,x),Z(x)}),null!=x.parentElement&&null!=x.parentElement.base?x.parentElement:x},x._load=function(e){return x._on("load",e)},x._click=function(e){return x._on("click",e)},x._dclick=function(e){return x._on("dblclick",e)},x._hover=function(e){return x._on("hover",e)},x._focus=function(e){return x._on("focus",e)},x._input=function(e){return x._on("input",e)},x._keycode=function(r,t,n){return x._on("keyup",function(e){e.keyCode==r&&(null!=t&&t(e,x),null!=n&&n.click())})},x._child=x.children,x._html=function(e){return null==e?x.outerHTML:(x.innerHTML=e,x)},x._text=function(e){return null==e?x.innerText:(x.innerText=e,x)},x._val=function(e){return null==e?x.value:(x.value=e,x)},x._show=function(){return x._css().display="",x},x._hide=function(){return x._css().display="none",x},i=0;i<x._child.length;i++)j=x._child[i],j=P(j),k=j.getAttribute("id"),eval("if(x.$tag==null){x.$tag=[j];}            else{x.$tag.push(j);}         ".replaceAll("tag",j.tagName.toLowerCase())),null!=k&&eval("x."+k+"=j;");return x._render=function(e){return R(x,e)[0]},x._react=function(){return Z(x)},x._update=function(){var e=O.Elode(x.elode,x.db);return x.innerHTML=e.innerHTML,e},x._scope=function(e,r){return O.Elode.scope(e,r,x)},x._remove=function(e){if(null==e)return x.remove();if("number"==typeof e)return x.removeChild(x._child[e]);if(e.constructor!=Array)return x.removeChild(e);for(i=0;i<e.length;i++)x.removeChild(e[i])},x}void 0!==O?(O.Elode=function(e,r){var t=e.constructor;if(null==e&&null==r)return"ElodeNullPointer(e)";if(t==String){if("!"!=e.trim()[0])return(n=C(e.trim(),r))[0].elode=e.trim(),Z(n[0]),n[0]=P(n[0]),null==n[1]||R(n,n[1]),n[0];e=e.substr(1);var n,r=C((n=I.querySelector(e)).getAttribute("elode").trim(),r);return n.elode=e.trim(),Z(r[0]),n.innerHTML=r[0].innerHTML,n.removeAttribute("elode"),n=P(n)}},O.Elode.DEBUG=!1,O.Elode.as=function(x){return eval("O."+x+"=O.Elode;"),O.Elode},O.Elode.app=function(e,r){var t,n=I.createElement("div");for(n.id=e,n=P(n),t=0;t<r.length;t++)n.appendChild(r[t]);return n},O.Elode.scope=function(e,r,t){return null==t&&(t=I),null!=r?t.querySelectorAll(e)[r]:t.querySelector(e)},O.Elode.render=function(e,r){if(e.constructor!=Array)return R(e,r),null==r?e:P(I.querySelector(r));for(var t=0;t<e.length;t++)e[t].constructor!=Array?R(e[t],r):O.Elode.render(e[t],r);return null==r?e:P(I.querySelector(r))}):alert("ElodeWindowError(e)")})(document,window);